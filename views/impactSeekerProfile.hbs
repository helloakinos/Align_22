
{{>original}}

<br>
<div class="firstRowOfSeekerProfile">    
    <div class="impactSeekerDiv" id="impactSeekerName">
        {{profile.[0].first_name}} {{profile.[0].surname}}
    </div>
    {{!-- <div class="impactSeekerDiv">
        <button style="font-size:20px;font-weight:bold;background:#FFB545;color:#07665b;padding:5px;border-radius:10px;border:none">Connect with Impact Seeker</button>
    </div> --}}
</div>
<div class="impactSeeker">
    <div class="impactSeekerInfo">
        <div class="impactSeekerInfoLeft">
            {{#if isCurrentUserBoolean}}
                <div id="seekerEditCreate">
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop" style="float:right;margin-right:5px;">
                        {{#if profile.[0].first_name}}
                            Edit
                        {{else}}
                            Create
                        {{/if}}
                    </button>   
                </div>
            {{/if}}
            {{!-- Edit Form --}}
            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabel">Edit your basic information</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <form id="saveProfile">
                            <div class="modal-body">
                                <label for="impactSeekerInfo">{{profile.[0].first_name}} First Name</label>
                                <br>
                                <input type="text" name="impactSeekerFirstName" value="{{profile.[0].first_name}}" required></input>
                                <label for="impactSeekerInfo">{{profile.[0].surname}} Surname</label>
                                <br>
                                <input type="text" name="impactSeekerSurname" value="{{profile.[0].surname}}" required></input>
                                <br>
                                <label for="impactSeekerHomeNumber">Home number: </label>
                                <input type="number" name="impactSeekerHomeNumber" value="{{profile.[0].home_number}}"required></input>
                                <br>
                                <label for="impactSeekerMobileNumber">Mobile number: </label>
                                <input type="number" name="impactSeekerMobileNumber" value="{{profile.[0].mobile_number}}"required></input>
                                <br>
                                <label for="impactSeekerEmail">Email:</label>
                                <input type="text" name="impactSeekerEmail" value="{{profile.[0].email1}}" required></input>
                                <br>
                                <label for="impactSeekerLink">Link:</label>
                                <input type="text" name="impactSeekerLink" value="{{profile.[0].links}}"></input>
                                <br>
                            </div>
                            <div id="modalEditCreateProfile" class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                {{#if profile.[0].first_name}}
                                    <button data-bs-dismiss="modal"  class="btn btn-primary" id="SaveSeekerProfileEdits">Save</button>
                                {{else}}
                                    <button data-bs-dismiss="modal" class="btn btn-primary" id="CreateSeekerProfileEdits">Create</button>
                                {{/if}}
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            {{!-- Edit Form --}}
            <div class="profileInfo" id="SeekerInfo">
                <h2>Basic information</h2>
                <hr>
                <p style="display:inline-block;width:200px">Current Company: </p>
                {{profile.[0].current_company}}
                <br>
                <p style="display:inline-block;width:200px">Mobile:</p>
                {{profile.[0].mobile_number}}
                <br>
                <p style="display:inline-block;width:200px">Home:</p>
                {{profile.[0].home_number}}
                <br>
                <p style="display:inline-block;width:200px">Email:</p>
                {{profile.[0].email1}}
                <br>
                <p style="display:inline-block;width:200px">Link:</p>
                {{profile.[0].links}}
            </div>
        </div>
        <br>
        <div class="impactSeekerInfoLeft">
            {{#if isCurrentUserBoolean}}
                <div id="seekerCustomEdit">
                    {{#if profile.[1]}}
                        <button type="button" class="editcustomseeker btn bg-light" data-bs-toggle="modal" data-bs-target="#modalCustomfieldsSeekerEdit">edit</button>
                    {{/if}}
                    {{#if profile.[0]}}
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalCustomfieldsSeeker" style="float:right;">
                            Add
                        </button> 
                    {{else}}
                        <span style="float:right;">Please create a profile first.</span> 
                    {{/if}}
                </div>
            {{/if}}
            <h2>More About {{profile.[0].seeker_name}}</h2>
            <hr>

            {{!-- =============add customfield modal========== --}}
            <div class="modal fade" id="modalCustomfieldsSeeker" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabel">Edit your Seeker profile</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <form id="seekerCustomField">
                                <h5 style="display:inline-block">Click'add' to an additional field to your profile</h5>
                                <br>
                                <label for="customeFill">
                                    <input type="text" id="customfieldSeekerTitle" name="customfieldSeekerTitle" placeholder="Custom  Title">
                                </label>
                                <br>
                                <textarea type="text" name="customfieldSeekerContent" placeholder="Your text here" required></textarea>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button id="SaveSeekerCustomField" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalCustomfieldsSeeker">Add </button>
                        </div>
                    </div>
                </div>
            </div>
            {{!-- =============edit customfield modal========== --}}
            <div class="modal fade" id="modalCustomfieldsSeekerEdit" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabelSeekerEdit">Edit your custom profile fields</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <form id="seekerCustomFieldEdit">
                                <h5 style="display:inline-block">Click 'edit' to change the fields on your profile</h5>
                                <br>
                                <div id="seekerModalCustom">
                                    {{#each profile.[1]}}
                                        <div class="customfieldSeekerdiv" data-id="{{customfield_id}}">
                                            <label for="customeFill">
                                            </label>
                                            <input type="text" class="customFillTitleEditSeeker" name="customFillTitleEditSeeker" value="{{customfield_title}}">
                                            <br>
                                            <textarea type="text" class="customFillTitleEditSeeker" name="customFillTextEditSeeker" required>{{customfield_content}}</textarea>
                                            <button type="button" class="removecustomseeker btn bg-light" data-id="{{customfield_id}}">remove</button>
                                        </div>
                                    {{/each}}
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button id="editSeekerCustomField" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalCustomfieldsSeekerEdit">Edit</button>
                        </div>
                    </div>
                </div>
            </div>
            {{!-- ============= customfield data========== --}}
            <div id="SeekerCustomField">
                {{#each profile.[1]}}
                    <div style="margin-bottom:10px">
                        <h4>{{customfield_title}}</h4>
                        <p>{{customfield_content}}</p>
                    </div>
                {{/each}}
            </div>
        </div>
    </div>

{{!-- Seeker education field --}}
    <div class="impactSeekerInfo">
        <div class="impactSeekerInfoRight">
            <div class="profileInfo">
                {{#if isCurrentUserBoolean}}
                    <div id="seekerEductionButtons">
                        {{#if profile.[0]}}
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editEducation" style="float:right;margin-right:5px;">
                                {{#if profile.[2].[0].seeker_education_id}}
                                    Edit
                                {{else}}
                                    Add
                                {{/if}}
                            </button> 
                        {{else}}
                            <span style="float:right;">Please create a profile first.</span> 
                        {{/if}}
                    </div>
                {{/if}}
                {{!-- Seeker education modal --}}
                <div class="modal fade" id="editEducation" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="staticBackdropLabel">Edit your education background</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <form id="saveProfile">
                                <div class="modal-body">
                                    <label for="impactSeekerHighSchoolDegree">High School Degree</label>
                                    <br>
                                    <select id="impactSeekerHighSchoolDegree"   name="impactSeekerHighSchoolDegree">
                                        <option value="Yes">Attained</option>
                                        <option value="No">Not attained</option>
                                    </select>
                                    <br>
                                    <label for="impactSeekerUniversityDegree">University Degree</label>
                                    <br>
                                    <select id="impactSeekerUniversityDegree"   name="impactSeekerUniversityDegree">
                                        <option value="Yes">Attained</option>
                                        <option value="No">Not attained</option>
                                    </select>
                                    <br>
                                    <label for="impactSeekerOtherCertification">Other Certifications</label>
                                    <textarea name="OtherCertification" value="{{profile.[2].[0].other_certifications}}"></textarea>
                                    <br>
                                </div>
                                <div class="modal-footer seekerEdModal">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                    {{#if profile.[2].[0].seeker_education_id}}
                                        <button data-bs-toggle="modal" data-bs-target="#editEducation"  class="btn btn-primary" id="SaveEducation">Save</button>
                                    {{else}}
                                        <button data-bs-toggle="modal" data-bs-target="#editEducation" class="btn btn-primary" id="CreateEducation">Create</button>
                                    {{/if}}
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="seekerEd">
                <h2>Education background: </h2>
                <hr>
                <p style="display:inline-block;width:280px">Attained High School degree: </p>
                {{#if profile.[2].[0].highschool_degree}}
                    {{#if profile.[2].[0].highschool_degree}}
                        <span>Yes</span>
                    {{else}}
                        <span>No</span>
                    {{/if}}
                {{/if}}
                    <br>
                    <p style="display:inline-block;width:280px">Attained University degree: </p>
                {{#if profile.[2].[0].university_degree}}
                    {{#if profile.[2].[0].university_degree}}
                        <span>Yes</span>
                    {{else}}
                        <span>No</span>
                    {{/if}}
                {{/if}}
                <br>
                <p style="display:inline-block;width:280px">Other certifications:</p>
                <span>{{profile.[2].[0].other_certifications}}</span>
            </div>
        </div>
        <br>
        <div class="impactSeekerInfoRight">
            <div class="profileInfo">        
                {{#if isCurrentUserBoolean}}
                    <div id="seekerExperienceButton">
                        {{#if profile.[0]}}
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#seekerExperienceForm" style="float:right;">
                            {{#if profile.[3]}}
                                Edit    
                            {{else}}
                                Add
                            {{/if}}
                            </button> 
                        {{else}}
                            <span style="float:right;">Please create a profile first.</span> 
                        {{/if}}
                    </div>
                {{/if}}
                <div class="modal fade" id="seekerExperienceForm" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="staticBackdropLabel">Experience</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body seekerExTemplate">
                                <form id="seekerExperience">
                                    <label for="seekerExperience">
                                    <textarea id="seekerExperience" name="seekerExperience">{{profile.[3].[0].experience}}</textarea>
                                </form>
                            </div>
                            <div class="modal-footer" id="seekerExBottomButton">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                {{#if profile.[3]}}
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#seekerExperienceForm" id="SaveExperience">Save</button>
                                {{else}}
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#seekerExperienceForm" id="AddExperience">Add</button>
                                {{/if}}
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <h2>Experience: </h2>
                    <hr>
                    <div id="seekerEx">
                        <p>{{profile.[3].[0].experience}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{{>copyright}}